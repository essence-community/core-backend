--liquibase formatted sql
--changeset patcher-core:Page_A19CD24E8D0D44ED9810E7C0B9C25F57 dbms:postgresql runOnChange:true splitStatements:false stripComments:false
select pkg_patcher.p_remove_page('A19CD24E8D0D44ED9810E7C0B9C25F57');

INSERT INTO s_mt.t_page (ck_id, ck_parent, cr_type, cv_name, cn_order, cl_static, cv_url, ck_icon, ck_view, ck_user, ct_change, cl_menu)VALUES('A19CD24E8D0D44ED9810E7C0B9C25F57', '5', 2, '3985eb70c7ef4c0aa45124afa7ca1fb8', 14, 0, null, null, 'system', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-05-27T19:41:04.574+0000', 1) on conflict (ck_id) do update set ck_parent = excluded.ck_parent, ck_view=excluded.ck_view, cr_type = excluded.cr_type, cv_name = excluded.cv_name, cn_order = excluded.cn_order, cl_static = excluded.cl_static, cv_url = excluded.cv_url, ck_icon = excluded.ck_icon, ck_user = excluded.ck_user, ct_change = excluded.ct_change, cl_menu = excluded.cl_menu;
select pkg_patcher.p_merge_page_action('F6A41582516F48D5ACA32A8CCDFDB654', 'A19CD24E8D0D44ED9810E7C0B9C25F57', 'edit', 516, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-05-27T19:41:04.574+0000');
select pkg_patcher.p_merge_page_action('210B68903CCE4C12A24C4F49A2A0AF76', 'A19CD24E8D0D44ED9810E7C0B9C25F57', 'view', 515, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-05-27T19:41:04.574+0000');
INSERT INTO s_mt.t_page_variable (ck_id, ck_page, cv_name, cv_description, cv_value, ck_user, ct_change)VALUES('5B4AFC1C32AF459BB98F9551443EAFD3', 'A19CD24E8D0D44ED9810E7C0B9C25F57', 'gk_page', 'Selected page', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T19:14:57.271+0000') on conflict (ck_id) do update set ck_page = excluded.ck_page, cv_name = excluded.cv_name, cv_description = excluded.cv_description, cv_value = excluded.cv_value, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_variable (ck_id, ck_page, cv_name, cv_description, cv_value, ck_user, ct_change)VALUES('393FCA26E7CB45A0B58E9F42966D4542', 'A19CD24E8D0D44ED9810E7C0B9C25F57', 'gk_view', 'System View', 'system', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T20:01:29.270+0000') on conflict (ck_id) do update set ck_page = excluded.ck_page, cv_name = excluded.cv_name, cv_description = excluded.cv_description, cv_value = excluded.cv_value, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
select pkg_patcher.p_merge_object('4B3B35F8A75B4566879693CC48545DCC', '137', null, 'SYS GUI Editor Object', 10001, null, 'GUI Объекта', null, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-05-27T19:29:57.532+0000');
select pkg_patcher.p_merge_object('E3C7E46E618C4CC7A236268731A31190', '137', '4B3B35F8A75B4566879693CC48545DCC', 'Filter group', 20, null, 'Filter group', null, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-05-29T15:46:32.913+0000');
select pkg_patcher.p_merge_object('81CDBE6AC89B4CCA8D38BF1AAD73D955', 'FEB7271294364881AE1ADBDFB1F687B9', '4B3B35F8A75B4566879693CC48545DCC', 'Gui Editor', 40, 'GetMetamodelPage', 'Gui Editor', null, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:05:54.019+0000');
select pkg_patcher.p_merge_object('A54307A531894FD1B3E876F84F625921', '8A19577D60054E859ADB4E8D766FC7FA', '81CDBE6AC89B4CCA8D38BF1AAD73D955', 'Gui Editor Navigation', 10, null, 'Gui Editor Navigation', null, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:06:22.389+0000');
select pkg_patcher.p_merge_object('FF99B45FD26A48059EF0CCD6CC0F2F29', 'AD8F268F37F04F4DBB22995D6257E4D2', '81CDBE6AC89B4CCA8D38BF1AAD73D955', 'GUI Editor Content', 20, null, 'GUI Editor Content', null, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:06:39.335+0000');
select pkg_patcher.p_merge_object('499C0DCD0C994709B7CB4F565B8450A4', '31', 'E3C7E46E618C4CC7A236268731A31190', 'cv_pages', 20, 'MTGetPage', 'Используется на страницах', 'e9b53190aefe4b58951d28ced35cc639', null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:04:09.319+0000');
select pkg_patcher.p_merge_object('71B016A7645A40CC85576FFC6A46FD7D', '49880F857BE94E8E83F7C63CB413A07E', '81CDBE6AC89B4CCA8D38BF1AAD73D955', 'GUI Editor Property', 30, 'MTClassAttr', 'GUI Editor Property', null, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:08:26.393+0000');
select pkg_patcher.p_merge_object('1E6A52F40FF94CB3874ED0671A0E6A88', '837FAE7126A84934A7077DD84A39CEBF', 'A54307A531894FD1B3E876F84F625921', 'GUI Editor Classes', 30, 'MTClass', 'GUI Editor Classes', null, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:21:39.070+0000');
select pkg_patcher.p_merge_object_attr('AC6E854F080A40739F48034566F94CDD', '4B3B35F8A75B4566879693CC48545DCC', '609', 'vbox', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T19:38:43.166+0000', 'contentview');
select pkg_patcher.p_merge_object_attr('55E4255EECC840FBBC4AE62DA4E8B557', '499C0DCD0C994709B7CB4F565B8450A4', '1053', '25%', '-1', '2021-06-02T18:03:52.179+0000', 'width');
select pkg_patcher.p_merge_object_attr('D026E28D2BAF43BD85923DE2E4556D9D', '499C0DCD0C994709B7CB4F565B8450A4', '120', 'ck_page', '-1', '2021-06-02T18:03:52.179+0000', 'column');
select pkg_patcher.p_merge_object_attr('244ED535B72947ECA4E2A4EF8C9BB436', '499C0DCD0C994709B7CB4F565B8450A4', '125', 'cv_name', '-1', '2021-06-02T18:03:52.179+0000', 'displayfield');
select pkg_patcher.p_merge_object_attr('613BEE245A4C46E2A8AF047473EAE238', '499C0DCD0C994709B7CB4F565B8450A4', '126', '[{"in": "ck_id", "out": null}]', '-1', '2021-06-02T18:03:52.179+0000', 'valuefield');
select pkg_patcher.p_merge_object_attr('F86DC40FC078488096D6ADF854D5A24F', '499C0DCD0C994709B7CB4F565B8450A4', '127', 'remote', '-1', '2021-06-02T18:03:52.179+0000', 'querymode');
select pkg_patcher.p_merge_object_attr('107317E5FD9F423AABF4FE9FA6C4F112', '499C0DCD0C994709B7CB4F565B8450A4', '1949', '0', '-1', '2021-06-02T18:03:52.179+0000', 'minchars');
select pkg_patcher.p_merge_object_attr('25159BB58C8D4F989F34E2E745BEB532', 'E3C7E46E618C4CC7A236268731A31190', '609', 'vbox', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-05-29T15:51:31.584+0000', 'contentview');
select pkg_patcher.p_merge_object_attr('E2F4ED9840A548048C7253FD8879097E', '499C0DCD0C994709B7CB4F565B8450A4', '863', 'cv_entered', '-1', '2021-06-02T18:03:52.179+0000', 'queryparam');
select pkg_patcher.p_merge_object_attr('E33A5E0EE666422A8987AB8591464566', '499C0DCD0C994709B7CB4F565B8450A4', 'DD92D2006CC84B44803C2DF03D532C5D', 'meta', '-1', '2021-06-02T18:03:52.179+0000', 'localization');
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('80EB829F0C1A423AB337D6BE39C5DEB4', 'A19CD24E8D0D44ED9810E7C0B9C25F57', '4B3B35F8A75B4566879693CC48545DCC', 10, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:22:07.984+0000')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('0CF08B3045DF4D639D007A01A80DC2A9', 'A19CD24E8D0D44ED9810E7C0B9C25F57', 'E3C7E46E618C4CC7A236268731A31190', 20, '80EB829F0C1A423AB337D6BE39C5DEB4', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:22:07.984+0000')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('BAAA5A64A79940428F30883FA5409A19', 'A19CD24E8D0D44ED9810E7C0B9C25F57', '81CDBE6AC89B4CCA8D38BF1AAD73D955', 40, '80EB829F0C1A423AB337D6BE39C5DEB4', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:27:02.454+0000')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('DDD8CF23FD5B42349A0FADDA3F4E62D7', 'A19CD24E8D0D44ED9810E7C0B9C25F57', 'A54307A531894FD1B3E876F84F625921', 10, 'BAAA5A64A79940428F30883FA5409A19', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:22:07.984+0000')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('F824E58EB451440CBDDECF5CB22D1DA4', 'A19CD24E8D0D44ED9810E7C0B9C25F57', '499C0DCD0C994709B7CB4F565B8450A4', 20, '0CF08B3045DF4D639D007A01A80DC2A9', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:22:07.984+0000')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('81F553F74FEB4EA7B22F14F63E8C2B56', 'A19CD24E8D0D44ED9810E7C0B9C25F57', 'FF99B45FD26A48059EF0CCD6CC0F2F29', 20, 'BAAA5A64A79940428F30883FA5409A19', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T19:06:15.601+0000')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('655A5ACCF42047549585675E72B88B1A', 'A19CD24E8D0D44ED9810E7C0B9C25F57', '71B016A7645A40CC85576FFC6A46FD7D', 30, 'BAAA5A64A79940428F30883FA5409A19', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:22:07.984+0000')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('5960157B894B45368ACC1862D4EDC25E', 'A19CD24E8D0D44ED9810E7C0B9C25F57', '1E6A52F40FF94CB3874ED0671A0E6A88', 30, 'DDD8CF23FD5B42349A0FADDA3F4E62D7', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T18:22:07.984+0000')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
select pkg_patcher.p_merge_page_object_attr('0C50A9D09E6742298E48DE94C8CA9E10', 'BAAA5A64A79940428F30883FA5409A19', '7DD35589412A4E01A823A1E597E1556C', '[{"in": "gk_page", "out": "ck_page"}]', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T19:17:38.742+0000', 'getglobaltostore');
select pkg_patcher.p_merge_page_object_attr('585B38549E7A41DF8717B0540AA4A7D3', 'F824E58EB451440CBDDECF5CB22D1DA4', '1195', '[{"in": "ck_id", "out": "gk_page"}]', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T19:15:30.627+0000', 'setglobal');
select pkg_patcher.p_merge_page_object_attr('7C4FC461C5F64893973CD5ABEFABC26F', '5960157B894B45368ACC1862D4EDC25E', 'E862F316365B40EA9E4A484CF4D22F82', '[{"in": "gk_view", "out": "ck_view"}]', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2021-06-02T20:01:37.707+0000', 'getglobaltostore');
update s_mt.t_page_object set ck_master='F824E58EB451440CBDDECF5CB22D1DA4' where ck_id='BAAA5A64A79940428F30883FA5409A19';
INSERT INTO s_mt.t_localization (ck_id, ck_d_lang, cr_namespace, cv_value, ck_user, ct_change)
select t.ck_id, t.ck_d_lang, t.cr_namespace, t.cv_value, t.ck_user, t.ct_change::timestamp from (
    select 'e9b53190aefe4b58951d28ced35cc639' as ck_id, 'ru_RU' as ck_d_lang, 'meta' as cr_namespace, 'Используется на страницах' as cv_value, '-11' as ck_user, '2019-12-09T15:00:00.000+0000' as ct_change
    union all
    select '3985eb70c7ef4c0aa45124afa7ca1fb8' as ck_id, 'ru_RU' as ck_d_lang, 'meta' as cr_namespace, 'GUI Объекты' as cv_value, '4fd05ca9-3a9e-4d66-82df-886dfa082113' as ck_user, '2021-05-27T19:41:04.574+0000' as ct_change
) as t 
 join s_mt.t_d_lang dl
 on t.ck_d_lang = dl.ck_id
on conflict on constraint cin_u_localization_1 do update set ck_id = excluded.ck_id, ck_d_lang = excluded.ck_d_lang, cr_namespace = excluded.cr_namespace, cv_value = excluded.cv_value, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
